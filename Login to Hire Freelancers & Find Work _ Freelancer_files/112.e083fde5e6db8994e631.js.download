(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{z4pt:function(e,t){function n(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(-1!==e.indexOf(".")){try{return void window}catch(t){document.domain=e}try{return void window}catch(t){e=e.replace(/^[\w\-]+\./,"")}n(e)}}}var r,i,o;BOOMR_start=(new Date).getTime(),n(),function(e){var t,r,i,o,a,s,u,d=e;if(e.parent!==e&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(e=e.parent),i=e.document,e.BOOMR||(e.BOOMR={}),BOOMR=e.BOOMR,!BOOMR.version){var c;BOOMR.version="1.621.custom-1",BOOMR.window=e,BOOMR.boomerang_frame=d,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new e.CustomEvent("CustomEvent")&&(o=function(t,n){return new e.CustomEvent(t,n)})}catch(t){}try{!o&&i.createEvent&&i.createEvent("CustomEvent")&&(o=function(e,t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(e,(t=t||{cancelable:!1,bubbles:!1}).bubbles,t.cancelable,t.detail),n})}catch(t){}!o&&i.createEventObject&&(o=function(e,t){var n=i.createEventObject();return n.type=n.propertyName=e,n.detail=t.detail,n}),o||(o=function(){})}(),a=function(e,t,n){var r=o(e,{detail:t});function a(){try{i.dispatchEvent?i.dispatchEvent(r):i.fireEvent&&i.fireEvent("onpropertychange",r)}catch(t){BOOMR.debug("Error when dispatching "+e)}}r&&(n?BOOMR.setImmediate(a):a())},void 0!==i.hidden?(s="visibilityState",u="visibilitychange"):void 0!==i.mozHidden?(s="mozVisibilityState",u="mozvisibilitychange"):void 0!==i.msHidden?(s="msVisibilityState",u="msvisibilitychange"):void 0!==i.webkitHidden&&(s="webkitVisibilityState",u="webkitvisibilitychange"),t={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],xhr_send:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",xb_handler:function(n){return function(r){var i;r||(r=e.event),r.target?i=r.target:r.srcElement&&(i=r.srcElement),3===i.nodeType&&(i=i.parentNode),i&&i.nodeName&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||t.fireEvent(n,i)}},clearEvents:function(){var e;for(e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){var e;for(e in t.listenerCallbacks)if(t.listenerCallbacks.hasOwnProperty(e))for(;t.listenerCallbacks[e].length;)BOOMR.utils.removeListener(t.listenerCallbacks[e][0].el,e,t.listenerCallbacks[e][0].fn);t.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;if(e=e.toLowerCase(),this.translate_events[e]&&(e=this.translate_events[e]),this.events.hasOwnProperty(e)){for(this.public_events.hasOwnProperty(e)&&a(this.public_events[e],t),i=this.events[e],"before_beacon"!==e&&"beacon"!==e&&BOOMR.real_sendBeacon(),o=i.length,n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(s){BOOMR.addError(s,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)i[n].once&&(i.splice(n,1),o--,n--)}},spaNavigation:function(){t.onloadfired=!0},beaconUrlAllowed:function(e){if(!t.beacon_urls_allowed||0===t.beacon_urls_allowed.length)return!0;for(var n=0;n<t.beacon_urls_allowed.length;n++)if(new RegExp(t.beacon_urls_allowed[n]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var n=t.LOCAL_STORAGE_PREFIX+"clss";t.localStorageSupported=!1;try{if(!e.JSON||!e.localStorage)return;e.localStorage.setItem(n,n),t.localStorageSupported=e.localStorage.getItem(n)===n,e.localStorage.removeItem(n)}catch(r){t.localStorageSupported=!1}}},(r={t_start:BOOMR_start,t_end:void 0,url:"",config_url:null,loadedLate:!1,beaconsSent:0,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:t.site_domain,ID:Math.random().toString(36).replace(/^0\./,""),start:void 0,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!e.postMessage||"function"!=typeof e.postMessage&&"object"!=typeof e.postMessage)},objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;if(void 0===t&&(t="\n\t"),n||(n=0),BOOMR.utils.isArray(e)){for(r=0;r<e.length;r++)i.push(n>0&&null!==e[r]&&"object"==typeof e[r]?this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1):"&"===t?encodeURIComponent(e[r]):e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(n>0&&null!==e[r]&&"object"==typeof e[r]?encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1):"&"===t?encodeURIComponent(r)+"="+encodeURIComponent(e[r]):r+"="+e[r]);return i.join(t)},getCookie:function(e){return e?(t=(n=" "+i.cookie+";").indexOf(e=" "+e+"="))>=0?n=n.substring(t+=e.length,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,""):void 0:null;var t,n},setCookie:function(e,t,n){var r,o,a,s,u;if(!e||!BOOMR.session.domain||void 0===t)return BOOMR.debug("Invalid parameters or site domain: "+e+"/"+t+"/"+BOOMR.session.domain),BOOMR.addVar("nocookie",1),!1;if((o=e+'="'+(r=this.objectToString(t,"&"))+'"').length<500){if(s=[o,"path=/","domain="+BOOMR.session.domain],"number"==typeof n&&((u=new Date).setTime(u.getTime()+1e3*n),u=u.toGMTString(),s.push("expires="+u)),i.cookie=s.join("; "),r===(a=this.getCookie(e))||void 0===a&&"number"==typeof n&&n<=0)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+r+"\n"+a)}else BOOMR.warn("Cookie too long: "+o.length+" "+o);return BOOMR.addVar("nocookie",1),!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(n=0,r=(t=e.split("&")).length;n<r;n++)(i=t[n].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getLocalStorage:function(n){var r,i;if(!n||!t.localStorageSupported)return null;try{if(null===(r=e.localStorage.getItem(t.LOCAL_STORAGE_PREFIX+n)))return;i=e.JSON.parse(r)}catch(o){return BOOMR.warn(o),null}return i&&"object"==typeof i.items?"number"==typeof i.expires&&BOOMR.now()>=i.expires?void this.removeLocalStorage(n):i.items:(this.removeLocalStorage(n),null)},setLocalStorage:function(n,r,i){var o,a,s;if(!n||!t.localStorageSupported||"object"!=typeof r)return!1;if(o={items:r},"number"==typeof i&&(o.expires=BOOMR.now()+1e3*i),(a=e.JSON.stringify(o)).length<5e4){try{if(e.localStorage.setItem(t.LOCAL_STORAGE_PREFIX+n,a),a===(s=e.localStorage.getItem(t.LOCAL_STORAGE_PREFIX+n)))return!0}catch(u){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+a+"\n"+s)}else BOOMR.warn("Storage items too large: "+a.length+" "+a);return!1},removeLocalStorage:function(n){if(!n||!t.localStorageSupported)return!1;try{return e.localStorage.removeItem(t.LOCAL_STORAGE_PREFIX+n),!0}catch(r){}return!1},cleanupURL:function(e,n){if(!e||BOOMR.utils.isArray(e))return"";if(t.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted")),void 0!==n&&e&&e.length>n){var r=e.indexOf("?");e=-1!==r&&r<n?e.substr(0,r)+"?...":e.substr(0,n-3)+"..."}return e},hashQueryString:function(e,t){return e?e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(t&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(e,t){return"?"+(t.length>10?BOOMR.utils.MD5(t):t)}):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""):e},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)void 0!==t[n][r[i]]&&(e[r[i]]=t[n][r[i]],o++);return o>0},arrayFilter:function(e,t){var n=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return n;if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},arrayFind:function(e,t){if((this.isArray(e)||e&&"number"==typeof e.length)&&"function"==typeof t){if("function"==typeof e.find)return e.find(t);for(var n,r=-1,i=e.length;++r<i;)if(t(n=e[r],r,e))return n}},isMutationObserverSupported:function(){return!(e&&e.navigator&&e.navigator.userAgent&&e.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&e&&e.MutationObserver&&"function"==typeof e.MutationObserver},addObserver:function(e,t,n,r,i,o){var a={observer:null,timer:null};if(!this.isMutationObserverSupported()||!r||!e)return null;function s(e){var t=!1;a.timer&&(clearTimeout(a.timer),a.timer=null),r&&((t=r.call(o,e,i))||(r=null)),!t&&a.observer&&(a.observer.disconnect(),a.observer=null),"number"==typeof t&&t>0&&(a.timer=setTimeout(s,t))}return a.observer=new BOOMR.window.MutationObserver(s),n&&(a.timer=setTimeout(s,a.timeout)),a.observer.observe(e,t),a},addListener:function(e,n,r,i){var o=!1;e.addEventListener?(i&&BOOMR.browser.supportsPassive()&&(o={capture:!1,passive:!0}),e.addEventListener(n,r,o)):e.attachEvent&&e.attachEvent("on"+n,r),t.listenerCallbacks[n]=t.listenerCallbacks[n]||[],t.listenerCallbacks[n].push({el:e,fn:r})},removeListener:function(e,n,r){if(e.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent&&e.detachEvent("on"+n,r),t.listenerCallbacks.hasOwnProperty(n))for(var i=0;i<t.listenerCallbacks[n].length;i++)if(r===t.listenerCallbacks[n][i].fn&&e===t.listenerCallbacks[n][i].el)return void t.listenerCallbacks[n].splice(i,1)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;for("string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location,r=n.search.slice(1).split(/&/),i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)return o.length>1?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):(BOOMR.debug("JSON is not supported"),"")},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;var n,r=document.getElementsByTagName("script");for(n=r.length;n--;)if("interactive"===r[n].readyState)return r[n].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var t="CSS1Compat"===(e.document.compatMode||""),n={x:0,y:0};return void 0!==e.pageXOffset?"function"==typeof e.pageXOffset?(n.x=e.pageXOffset(),n.y=e.pageYOffset()):(n.x=e.pageXOffset,n.y=e.pageYOffset):t?(n.x=e.document.documentElement.scrollLeft,n.y=e.document.documentElement.scrollTop):(n.x=e.document.body.scrollLeft,n.y=e.document.body.scrollTop),"number"==typeof n.sx&&(n.sx=Math.round(n.sx)),"number"==typeof n.sy&&(n.sy=Math.round(n.sy)),n},windowHeight:function(){return e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight},windowWidth:function(){return e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))}},browser:{results:{},supportsPassive:function(){if(void 0===BOOMR.browser.results.supportsPassive){if(BOOMR.browser.results.supportsPassive=!1,!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(r){var o,a,s=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip"];if(n(),r||(r={}),void 0!==r.log&&(this.log=r.log),this.log||(this.log=function(){}),this.pageId||(this.pageId=BOOMR.utils.generateId(8),BOOMR.debug("Generated PageID: "+this.pageId)),r.primary&&t.handlers_attached)return this;for(a in void 0!==r.site_domain&&(this.session.domain=r.site_domain),void 0!==r.autorun&&(t.autorun=r.autorun),this.plugins)if(this.plugins.hasOwnProperty(a)){if(r[a]&&r[a].hasOwnProperty("enabled")&&!1===r[a].enabled){t.disabled_plugins[a]=1,"function"==typeof this.plugins[a].disable&&this.plugins[a].disable();continue}if(t.disabled_plugins[a]){if(!r[a]||!r[a].hasOwnProperty("enabled")||!0!==r[a].enabled)continue;"function"==typeof this.plugins[a].enable&&this.plugins[a].enable(),delete t.disabled_plugins[a]}if("function"==typeof this.plugins[a].init)try{this.plugins[a].init(r)}catch(d){BOOMR.addError(d,a+".init")}}for(o=0;o<s.length;o++)void 0!==r[s[o]]&&(t[s[o]]=r[s[o]]);return(!t.handlers_attached&&!r.wait||t.handlers_attached&&t.waiting_for_config)&&(t.onloadfired||void 0!==t.autorun&&!1===t.autorun||(BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0),BOOMR.attach_page_ready(BOOMR.page_ready_autorun)),t.waiting_for_config=!1),t.handlers_attached?this:(r.wait&&(t.waiting_for_config=!0),BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())}),BOOMR.utils.addListener(e,"DOMContentLoaded",function(){t.fireEvent("dom_loaded")}),BOOMR.fireEvent("config",r),BOOMR.subscribe("config",function(e){e.beacon_url&&(t.beacon_url=e.beacon_url)}),BOOMR.subscribe("spa_navigation",t.spaNavigation,null,t),function(){var n,r;for(void 0!==u&&(BOOMR.utils.addListener(i,u,function(){t.fireEvent("visibility_changed")}),t.lastVisibilityState=BOOMR.visibilityState(),BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now(),BOOMR.debug("Visibility changed from "+t.lastVisibilityState+" to "+e),"prerender"===t.lastVisibilityState&&"prerender"!==e&&(BOOMR.addVar("vis.pre","1"),t.fireEvent("prerender_to_visible")),t.lastVisibilityState=e})),BOOMR.utils.addListener(i,"mouseup",t.xb_handler("click")),n=i.getElementsByTagName("form"),r=0;r<n.length;r++)BOOMR.utils.addListener(n[r],"submit",t.xb_handler("form_submit"));e.onpagehide||null===e.onpagehide||BOOMR.utils.addListener(e,"unload",function(){BOOMR.window=e=null})}(),t.handlers_attached=!0,this)},attach_page_ready:function(t){BOOMR.hasBrowserOnloadFired()?this.setImmediate(t,null,null,BOOMR):e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pageshow",t):BOOMR.utils.addListener(e,"load",t)},page_ready_autorun:function(e){t.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(n,r){var i;return r||"number"!=typeof n||(i=n,n=null),n||(n=e.event),n||(n={name:"load"}),r?"number"==typeof e.BOOMR_page_ready&&(n.timing=n.timing||{},n.timing.loadEventEnd=e.BOOMR_page_ready,BOOMR.addVar("pr",1,!0)):(n.timing=n.timing||{},n.timing.loadEventEnd=i||("number"==typeof e.BOOMR_page_ready?e.BOOMR_page_ready:BOOMR.now()),BOOMR.addVar("pr",1,!0)),t.onloadfired?this:(t.fireEvent("page_ready",n),t.onloadfired=!0,this)},hasBrowserOnloadFired:function(){var t=BOOMR.getPerformance();return i.readyState&&"complete"===i.readyState||t&&t.timing&&t.timing.loadEventStart>0||e.BOOMR_onload>0},onloadFired:function(){return t.onloadfired},setImmediate:function(t,n,r,i){var o;o=function(){t.call(i||null,n,r||{},void 0),o=null},e.requestIdleCallback?e.requestIdleCallback(o,{timeout:1e3}):e.setImmediate?e.setImmediate(o):setTimeout(o,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},hrNow:function(){var e,t,n=BOOMR.getPerformance();return n&&n.now?e=n.now():(t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start,e=BOOMR.now()-t),e},visibilityState:void 0===s?function(){return"visible"}:function(){return i[s]},lastVisibilityEvent:{},registerEvent:function(e){return t.events.hasOwnProperty(e)?this:(t.events[e]=[],this)},disable:function(){t.clearEvents(),t.clearListeners()},fireEvent:function(e,n){return t.fireEvent(e,n)},subscribe:function(n,r,i,o,a){var s,u,d,c,l;for(n=n.toLowerCase(),t.translate_events[n]&&(n=t.translate_events[n]),t.events.hasOwnProperty(n)||(t.events[n]=[]),d=t.events[n],s=0;s<d.length;s++)if((u=d[s])&&u.fn===r&&u.cb_data===i&&u.scope===o)return this;return d.push({fn:r,cb_data:i||{},scope:o||null,once:a||!1}),"page_ready"===n&&t.onloadfired&&t.autorun&&this.setImmediate(r,null,i,o),"page_unload"!==n&&"before_unload"!==n||(l=d.length,c=function(a){r&&r.call(o,a||e.event,i),"page_unload"===n&&l===t.events[n].length&&BOOMR.real_sendBeacon()},"page_unload"===n&&(e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pagehide",c):BOOMR.utils.addListener(e,"unload",c)),BOOMR.utils.addListener(e,"beforeunload",c)),this},addError:function(e,n,r){var i,o=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+n+", extra: "+r),o&&o.is_supported()?"string"==typeof e?o.send({message:e,extra:r,functionName:n,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof n&&(e.functionName=n),void 0!==r&&(e.extra=r),o.send(e,o.VIA_APP,o.SOURCE_BOOMERANG)):("string"!=typeof e&&((i=String(e)).match(/^\[object/)&&(i=e.name+": "+(e.description||e.message).replace(/\r\n$/,"")),e=i),void 0!==n&&(e="["+n+":"+BOOMR.now()+"] "+e),r&&(e+=":: "+r),t.errors[e]?t.errors[e]++:t.errors[e]=1)},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,n,r){if("string"==typeof e)t.vars[e]=n;else if("object"==typeof e){var i,o=e;for(i in o)o.hasOwnProperty(i)&&(t.vars[i]=o[i])}return r&&(t.singleBeaconVars[e]=1),this},appendVar:function(e,t){var n=BOOMR.getVar(e)||"";return n&&(n+=","),BOOMR.addVar(e,n+t),this},removeVar:function(e){var n,r;if(!arguments.length)return this;for(r=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments,n=0;n<r.length;n++)t.vars.hasOwnProperty(r[n])&&delete t.vars[r[n]];return this},hasVar:function(e){return t.vars.hasOwnProperty(e)},getVar:function(e){return t.vars[e]},setVarPriority:function(e,n){return"number"!=typeof n||1!==Math.abs(n)?this:(t.varPriority[n][e]=1,this)},setReferrer:function(e){t.r=e},requestStart:function(e){var t=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,t),{loaded:function(n){BOOMR.responseEnd(e,t,n)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(t.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return BOOMR.debug("Plugin "+e+" is not ready to send"),!1}return!0},responseEnd:function(e,n,r,i){if(n="number"==typeof n?n:BOOMR.now(),i="number"==typeof i?i:BOOMR.now(),!BOOMR.readyToSend())return BOOMR.debug("Attempted to call responseEnd before all plugins were Ready to Send, trying again..."),void setTimeout(function(){BOOMR.responseEnd(e,n,r,i)},1e3);if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if("object"==typeof e){if(!e.url)return void BOOMR.debug("BOOMR.responseEnd: First argument must have a url property if it's an object");t.fireEvent("xhr_load",e)}else BOOMR.real_sendBeacon(),BOOMR.addVar("xhr.pg",e),BOOMR.plugins.RT.startTimer("xhr_"+e,n),t.fireEvent("xhr_load",{name:"xhr_"+e,data:r,timing:{loadEventEnd:i}});else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,n,r,i)},null,BOOMR,!0)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){return e&&(t.beacon_url_override=e),t.beaconQueued||(t.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var n,r=[],o={};if(!t.beaconQueued)return!1;for(n in t.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon"),this.plugins)if(this.plugins.hasOwnProperty(n)){if(t.disabled_plugins[n])continue;if(!this.plugins[n].is_complete(t.vars))return BOOMR.debug("Plugin "+n+" is not complete, deferring beacon send"),!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return BOOMR.debug("DOM not fully available, not sending a beacon"),!1;var a=BOOMR.utils.inArray(t.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),s=void 0===t.vars["http.initiator"]||a;for(n in t.vars.pgu||(t.vars.pgu=a?i.URL:i.URL.replace(/#.*/,"")),t.vars.pgu=BOOMR.utils.cleanupURL(t.vars.pgu),t.vars.u&&!a||(t.vars.u=t.vars.pgu),t.vars.pgu===t.vars.u&&delete t.vars.pgu,t.r?t.vars.r=BOOMR.utils.cleanupURL(t.r):delete t.vars.r,t.vars.v=BOOMR.version,BOOMR.session.enabled&&(t.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36),t.vars["rt.ss"]=BOOMR.session.start,t.vars["rt.sl"]=BOOMR.session.length),BOOMR.visibilityState()&&(t.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),t.vars["ua.plt"]=navigator.platform,t.vars["ua.vnd"]=navigator.vendor,this.pageId&&(t.vars.pid=this.pageId),t.vars.n=++this.beaconsSent,e!==window&&(t.vars.if=""),t.errors)t.errors.hasOwnProperty(n)&&r.push(n+(t.errors[n]>1?" (*"+t.errors[n]+")":""));for(n in r.length>0&&(t.vars.errors=r.join("\n")),t.errors={},t.fireEvent("before_beacon",t.vars),t.vars)t.vars.hasOwnProperty(n)&&(o[n]=t.vars[n]);for(var u in BOOMR.removeVar(["qt","pgu"]),t.singleBeaconVars)t.singleBeaconVars.hasOwnProperty(u)&&BOOMR.removeVar(u);return t.singleBeaconVars={},!t.hasSentPageLoadBeacon&&s&&(t.hasSentPageLoadBeacon=!0,BOOMR.setImmediate(function(){t.fireEvent("page_load_beacon",o)})),BOOMR.session.rate_limited?(BOOMR.debug("Skipping because we're rate limited"),!1):(BOOMR.sendBeaconData(o),!0)},hasSentPageLoadBeacon:function(){return t.hasSentPageLoadBeacon},sendBeaconData:function(n){var r,i,o,a,s,u=[],d=!0;if(BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(n)),t.beacon_url=t.beacon_url_override||t.beacon_url,!t.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!1;if(!t.beaconUrlAllowed(t.beacon_url))return BOOMR.debug("Beacon URL not allowed: "+t.beacon_url),!1;if(0===n.length)return!1;if(t.fireEvent("beacon",n),u=this.getVarsOfPriority(n,-1),r=this.getVarsOfPriority(n,1),i=u.concat(this.getVarsOfPriority(n,0),r).join("&"),t.beacon_url_force_https&&t.beacon_url.match(/^\/\//)&&(t.beacon_url="https:"+t.beacon_url),o=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+i,"GET"===t.beacon_type?(d=!0,o.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")):("POST"===t.beacon_type||o.length>BOOMR.constants.MAX_GET_LENGTH)&&(d=!1),e&&e.navigator&&"function"==typeof e.navigator.sendBeacon&&BOOMR.utils.isNative(e.navigator.sendBeacon)&&"function"==typeof e.Blob&&"GET"!==t.beacon_type&&void 0===t.beacon_auth_token&&!t.beacon_disable_sendbeacon){var c=new e.Blob([i+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(e.navigator.sendBeacon(t.beacon_url,c))return!0}if(BOOMR.orig_XMLHttpRequest||e&&e.XMLHttpRequest||(d=!0),d){try{a=new Image}catch(l){return BOOMR.debug("Image is not a constructor, not sending a beacon"),!1}a.src=o}else{s=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(s,i)}catch(l){s=new BOOMR.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon(s,i)}}return!0},hasSentPageLoadBeacon:function(){return t.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,n){e.open("POST",t.beacon_url),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void 0!==t.beacon_auth_token&&(void 0===t.beacon_auth_key&&(t.beacon_auth_key="Authorization"),e.setRequestHeader(t.beacon_auth_key,t.beacon_auth_token)),t.beacon_with_credentials&&(e.withCredentials=!0),e.send(n)},getVarsOfPriority:function(e,n){var r,i=[],o=0!==n?t.varPriority[n]:e;for(r in o)o.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(i.push(this.getUriEncodedVar(r,void 0===e[r]?"":e[r])),0!==n&&delete e[r]);return i},getUriEncodedVar:function(e,t){return null==t&&(t=""),"object"==typeof t&&(t=BOOMR.utils.serializeForUrl(t)),encodeURIComponent(e)+"="+encodeURIComponent(t)},getResourceTiming:function(e,t,n){var r,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(e))||!r.length)return;if(!("function"!=typeof n||(r=BOOMR.utils.arrayFilter(r,n))&&r.length))return;return r.length>1&&"function"==typeof t&&r.sort(t),r[r.length-1]}}catch(o){BOOMR.warn("getResourceTiming:"+o)}}}).url=r.utils.getMyURL(),delete BOOMR_start,"number"==typeof BOOMR_lstart?(r.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(r.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(r.t_onload=BOOMR.window.BOOMR_onload),r.log="object"==typeof console&&void 0!==console.log?function(e,t,n){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+n+": ["+t+"] "+e)}:function(){},r.debug=(c=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}})("debug"),r.info=c("info"),r.warn=c("warn"),r.error=c("error");try{var l=r.getPerformance();l&&"function"==typeof l.now&&/\[native code\]/.test(String(l.now))&&l.timing&&l.timing.navigationStart&&(r.now=function(){return Math.round(l.now()+l.timing.navigationStart)})}catch(O){}t.checkLocalStorageSupport(),function(){var e;for(e in r)r.hasOwnProperty(e)&&(BOOMR[e]=r[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}(),a("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window),function(){var e,t,n,r,i,o=["uninitialized","open","responseStart","domInteractive","responseEnd"],a=-1001,s=-999,u=-998,d=-997;function c(e){BOOMR.debug(e,"AutoXHR")}function l(e){if(!e)return null;e.href=e.href;var t=e.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t}function O(e){var t;if(e.href){if(e.href.match(/^(about:|javascript:|data:)/i))return!0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(t=e.href.indexOf(BOOMR.getBeaconURL()))||5===t||6===t))return!0}return BOOMR.xhr_excludes.hasOwnProperty(e.href)||BOOMR.xhr_excludes.hasOwnProperty(e.hostname)||BOOMR.xhr_excludes.hasOwnProperty(l(e))}function p(){this.watch=0,this.timer=null,this.pending_events=[],this.lastSpaLocation=null}function f(e,t){var n,r;if(!t||!e)return!1;if("boolean"==typeof t)return!0===t;if("function"==typeof t)try{return!0===t(e)}catch(i){return!1}if(BOOMR.utils.isArray(t))for(n=0;n<t.length;n++){if("string"==typeof(r=t[n])&&r===e)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}function g(){i.monitorFetch&&"function"==typeof e.fetch&&"function"==typeof e.Request&&"function"==typeof e.Response&&"function"==typeof e.Promise&&"function"==typeof window.fetch&&!e.fetch.polyfill&&(BOOMR.proxy_fetch&&BOOMR.proxy_fetch===e.fetch||(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===e.fetch?e.fetch=BOOMR.proxy_fetch:(BOOMR.orig_fetch=e.orig_fetch||e.fetch,BOOMR.proxy_fetch=function(t,o){var a,c,l,O={timing:{},initiator:"xhr"};if("object"==typeof t&&t instanceof e.Request?(a=t.url,c=o&&o.method||t.method||"GET",i.captureXhrRequestResponse&&(l=o&&o.body||t.body||void 0)):(a=t,c=o&&o.method||"GET",i.captureXhrRequestResponse&&(l=o&&o.body||void 0)),r.href=a,i.excludeFilter(r))return BOOMR.debug("Exclude found for resource: "+r.href+" Skipping Fetch instrumentation!","AutoXHR"),BOOMR.orig_fetch.apply(e,arguments);BOOMR.fireEvent("xhr_init","fetch"),O.url=r.href,O.method=c,O.type="fetch",l&&(O.requestPayload=l),BOOMR.fireEvent("xhr_send",{resource:O}),i.singlePageApp&&n.watch&&!f(O.url,i.alwaysSendXhr)&&n.add_event_resource(O);try{O.timing.requestStart=BOOMR.now();var p=BOOMR.orig_fetch.apply(this,arguments);function g(t,n,r){function o(){var e;r.fetchResponse&&!r.fetchResponse.bodyUsed&&i.fetchBodyUsedWait?(e=BOOMR.now(),r.responseBodyNotUsed=!0,setTimeout(function(){i.loadFinished(r,e)},i.fetchBodyUsedWait)):i.loadFinished(r)}return function(){var i,a=t._bmrNextP;try{for(i=n.apply(this===window?BOOMR.window:this,arguments);a&&!a._bmrHasOnFulfilled;)a=a._bmrNextP;return a||(i instanceof e.Promise?i.then=h(i,i.then,r):o()),i}catch(s){for(;a&&!a._bmrHasOnRejected;)a=a._bmrNextP;throw a||o(),s}}}function h(e,t,n){return e._bmrNextP?t:function(){var r=Array.prototype.slice.call(arguments);r.length>0&&("function"==typeof r[0]&&(r[0]=g(e,r[0],n),e._bmrHasOnFulfilled=!0),r.length>1&&"function"==typeof r[1]&&(r[1]=g(e,r[1],n),e._bmrHasOnRejected=!0));var i=t.apply(e,r);return e._bmrNextP=i,i.then=h(i,i.then,n),i}}return p.then=h(p,p.then,O),p.then(function(t){var n,r=!1,o=!1;if((t.status<200||t.status>=400)&&(O.status=t.status),O.fetchResponse=t,i.captureXhrRequestResponse&&"function"==typeof t.clone){(n=t.headers.get("content-type"))&&(r=-1!==n.indexOf("json"),o=-1!==n.indexOf("xml")),O.response={};try{t.clone().text().then(function(t){O.response.text=t,O.response.raw=t,o&&"function"==typeof e.DOMParser&&(O.response.xml=(new e.DOMParser).parseFromString(t,"text/xml"))}).then(null,function(e){})}catch(a){}if(r)try{t.clone().json().then(function(e){O.response.json=e}).then(null,function(e){})}catch(a){}}return t},function(e){throw O.status=!e||"AbortError"!==e.name&&20!==e.code?u:s,e})}catch(m){throw O.status=d,i.loadFinished(O),m}},e.fetch=BOOMR.proxy_fetch)))}function h(){"function"==typeof e.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==e.fetch&&(e.fetch=BOOMR.orig_fetch)}function m(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==e.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===e.XMLHttpRequest)return e.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void p.start();BOOMR.orig_XMLHttpRequest=e.orig_XMLHttpRequest||e.XMLHttpRequest,p.start(),BOOMR.subscribe("click",function(){if(!i.singlePageApp){var t={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==e.XMLHttpRequest&&(t.timing.requestStart=BOOMR.now(),n.addEvent(t))}}),BOOMR.proxy_XMLHttpRequest=function(){var t,l,O,p={timing:{},initiator:"xhr"},f=!1,g=!1;return t=new BOOMR.orig_XMLHttpRequest,l=t.open,O=t.send,t.open=function(n,O,h){if(r.href=O,i.excludeFilter(r))return g=!0,c("Exclude found for resource: "+r.href+" Skipping XHR instrumentation!"),l.apply(t,arguments);function m(n,r){t.addEventListener(n,function(){if("readystatechange"===n)if(p.timing[o[t.readyState]]=BOOMR.now(),4===t.readyState&&0!==t.status){if((t.status<200||t.status>=400)&&(p.status=t.status),i.captureXhrRequestResponse&&(p.response={text:""===t.responseType||"text"===t.responseType?t.responseText:null,xml:""===t.responseType||"document"===t.responseType?t.responseXML:null,raw:t.response,json:t.responseJSON},t.response&&t.response.constructor&&t.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==e.Object))try{t.response.constructor=e.Object}catch(a){}i.loadFinished(p)}else 0===t.readyState&&"number"==typeof p.timing.open&&(p.status=s,i.loadFinished(p));else"load"===n?(t.status<200||t.status>=400)&&(p.status=t.status):p.status=void 0===r?t.status:r,i.loadFinished(p)},!1)}g=!1,void 0===h&&(h=!0),BOOMR.fireEvent("xhr_init","xhr"),f||(h&&m("readystatechange"),m("load"),m("timeout",a),m("error",u),m("abort",s)),p.url=r.href,p.method=n,p.type="xhr",delete p.status,h||(p.synchronous=!0),f=!0;try{return l.apply(t,arguments)}catch(R){throw p.status=d,i.loadFinished(p),R}},t.send=function(e){return g?O.apply(t,arguments):(i.captureXhrRequestResponse&&(t.resource.requestPayload=e),BOOMR.fireEvent("xhr_send",t),i.singlePageApp&&n.watch&&n.add_event_resource(p),p.timing.requestStart=BOOMR.now(),void 0===p.status||p.status!==d?O.apply(t,arguments):void 0)},t.resource=p,t},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,e.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function R(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==e.XMLHttpRequest&&(e.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function B(e){e.initiator="xhr",BOOMR.responseEnd(e)}BOOMR.plugins.AutoXHR||(e=BOOMR.window)&&e.XMLHttpRequest&&(new e.XMLHttpRequest).addEventListener&&(p.stop=function(){p.pause(),p.observer=null},p.pause=function(){p.observer&&p.observer.observer&&!p.isPaused&&(p.isPaused=!0,p.observer.observer.disconnect())},p.resume=function(){p.observer&&p.observer.observer&&p.isPaused&&(p.isPaused=!1,p.observer.observer.observe(t,p.observer.config))},p.start=function(){if(!p.observer){var e={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};(p.observer=BOOMR.utils.addObserver(t,e,null,n.mutation_cb,null,n))&&(p.observer.config=e,BOOMR.subscribe("page_unload",p.stop,null,p))}},p.prototype.addEvent=function(e){var t,n,r,i={type:e.initiator,resource:e,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},o=this.pending_events.length;for(t=o-1;t>=0;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){n=this.pending_events[t],r=t;break}if(n)if("click"===n.type)0!==n.nodes_to_wait&&n.resource.url||(this.pending_events[t]=void 0);else if("xhr"===n.type){if("click"===i.type)return null}else if(BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===i.type)return null;BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(c("Aborting previous SPA navigation"),n.resource.timing.loadEventEnd=BOOMR.now(),n.aborted=!0,this.sendEvent(r))}return this.watch++,this.pending_events.push(i),p.observer?(BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,o):this.setTimeout(50,o),o):BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)?(p.start(),this.setTimeout(1e3,o),o):(e.url&&e.timing.loadEventEnd&&this.sendEvent(o),null)},p.prototype.sendEvent=function(e){var n=this.pending_events[e],r=this,i=BOOMR.now();if(n&&!n.complete)if(this.clearTimeout(),BOOMR.readyToSend()){if(n.complete=!0,this.watch--,n.resource.resources=n.resources,BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(n.resource.url=t.URL),"spa"===n.type&&0===n.total_nodes&&n.resource.url===r.lastSpaLocation)return c("SPA beacon cancelled, no URL change or resources triggered"),BOOMR.fireEvent("spa_cancel"),void(this.pending_events[e]=void 0);BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(r.lastSpaLocation=n.resource.url,n.forced||0!==n.total_nodes||(n.resource.timing.loadEventEnd=i-1e3)),this.sendResource(n.resource,e)}else setTimeout(function(){r.sendEvent(e)},500)},p.prototype.sendResource=function(n,r){var o=this,a=o.pending_events[r],s=n.timing?n.timing.requestStart:void 0,u=function(e,a){if(e&&(n.timing.loadEventEnd=a||BOOMR.now()),BOOMR.real_sendBeacon(),n.onComplete&&n.onComplete(n),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&n.timing&&n.timing.requestStart){var u=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(n.timing.requestStart,n.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(u)}BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(o.calculateSpaTimings(n),"number"==typeof r&&o.pending_events[r].aborted&&(BOOMR.addVar("pgu",t.URL),BOOMR.addVar("rt.quit",""),BOOMR.addVar("rt.abld",""),i.addedVars.push("pgu","rt.quit","rt.abld"))),BOOMR.responseEnd(n,s,n),"number"==typeof r&&(o.pending_events[r]=void 0)};if(n.wait)n.waitComplete=function(){u(!0)};else{if("spa_hard"===n.initiator&&!(a&&a.aborted||BOOMR.hasBrowserOnloadFired()))return void e.addEventListener("load",function(){var e=BOOMR.now();BOOMR.setImmediate(function(){u(!0,e)})});u(!1)}},p.prototype.calculateSpaTimings=function(e){var t=BOOMR.getPerformance();if(t&&t.timing)if("spa_hard"===e.initiator)e.timing.responseEnd=t.timing.responseStart,e.timing.fetchStart=t.timing.navigationStart;else{if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var n=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(e.timing.requestStart,e.timing.loadEventEnd,i.spaBackEndResources).entries,r=Math.round(e.timing.loadEventEnd-e.timing.requestStart);if(!n||!n.length)return void(e.timers={t_resp:0,t_page:r,t_done:r});for(var o=e.timing.loadEventEnd-t.timing.navigationStart,a=0;a<n.length;a++)n[a].responseStart>o?(n[a].responseStart=o,n[a].responseEnd=o):n[a].responseEnd>o&&(n[a].responseEnd=o);var s=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(n)),u=r-s;if(s<0||r<0||u<0)return void BOOMR.addError("Incorrect SPA time calculation");e.timers={t_resp:s,t_page:u,t_done:r}}},p.prototype.setTimeout=function(e,t){var n=this;e&&(this.clearTimeout(),this.timer=setTimeout(function(){n.timedout(t)},e))},p.prototype.timedout=function(e){var t;this.clearTimeout(),(t=this.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS.concat("xhr"))?0===t.nodes_to_wait&&this.sendEvent(e):(this.watch>0&&this.watch--,this.pending_events[e]=void 0)},p.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},p.prototype.load_cb=function(e,t){var n,r,i=BOOMR.now();(n=e.target||e.srcElement)&&n._bmr&&(r=n._bmr.idx,n._bmr.end[t=void 0!==t?t:n._bmr.res||0]||(n._bmr.end[t]=i,this.load_finished(r,i)))},p.prototype.load_finished=function(e,t){var n=this.pending_events[e];n&&(n.nodes_to_wait--,0===n.nodes_to_wait&&(n.resource.timing.loadEventEnd=t||BOOMR.now(),BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,e):this.sendEvent(e)))},p.prototype.wait_for_node=function(e,t){var n,o,a,s,u,d,l,O,p=this,f=!1,g=!1;if(e&&e.nodeName&&(e.nodeName.toUpperCase().match(/^(IMG|SCRIPT|IFRAME|IMAGE)$/)||"LINK"===e.nodeName.toUpperCase()&&e.rel&&e.rel.match(/\<stylesheet\>/i))){if(e._bmr&&"number"==typeof e._bmr.res&&e._bmr.end[e._bmr.res]&&(g=!0),!(u=e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href)||u.match(/^(about:|javascript:|data:)/i))return!1;if(e._bmr&&e._bmr.url!==u&&(g=!0),"IMG"===e.nodeName){if(e.naturalWidth&&!g)return!1;if("function"==typeof e.getAttribute&&""===e.getAttribute("src"))return!1}if("IFRAME"===e.nodeName&&g)return!1;if("function"==typeof e.getAttribute&&(l=parseInt(e.getAttribute("height"),10),O=parseInt(e.getAttribute("width"),10)),isNaN(l)&&(l=!e.style||"0"!==e.style.height&&"0px"!==e.style.height&&"1px"!==e.style.height?void 0:0),isNaN(O)&&(O=!e.style||"0"!==e.style.width&&"0px"!==e.style.width&&"1px"!==e.style.width?void 0:0),!isNaN(l)&&l<=1&&!isNaN(O)&&O<=1)return!1;if(e.style&&"none"===e.style.display)return!1;if(e.style&&"hidden"===e.style.visibility)return!1;if(!(n=this.pending_events[t]))return!1;if(d=n.resources.length,e._bmr||(e._bmr={end:{}}),n.urls||(n.urls={}),n.urls[u])return!1;if("SCRIPT"===e.nodeName&&i.singlePageApp)return!1;if(!n.resource.url){if(r.href=u,i.excludeFilter(r))return c("Exclude for "+r.href+" matched. Excluding"),!1;n.resource.url=r.href}e._bmr.res=d,e._bmr.idx=t,delete e._bmr.end[d],e._bmr.url=u,e.addEventListener("load",function(e){p.load_cb(e,d)}),e.addEventListener("error",function(e){p.load_cb(e,d)}),n.nodes_to_wait++,this.clearTimeout(),n.total_nodes++,n.resources.push(e),n.urls[u]=1,f=!0}else e.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(n){if((o=e.getElementsByTagName(n))&&o.length)for(a=0,s=o.length;a<s;a++)f|=this.wait_for_node(o[a],t)},this);return f},p.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;return n<0?-1:(t=this.pending_events[n])&&e?(t.nodes_to_wait++,t.total_nodes++,e.index=n,n):-1},p.prototype.mutation_cb=function(e){var t,n,r;return!this.watch||(t=this,(n=this.pending_events.length-1)<0||!this.pending_events[n]||(void 0===(r=this.pending_events[n]).interesting&&(r.interesting=!1),e&&e.length&&(r.resource.timing.domComplete=BOOMR.now(),e.forEach(function(e){var i,o,a;if("attributes"===e.type)r.interesting|=t.wait_for_node(e.target,n);else if("childList"===e.type){for(o=e.addedNodes.length,i=0;i<o;i++)r.interesting|=t.wait_for_node(e.addedNodes[i],n);for(o=e.removedNodes.length,i=0;i<o;i++)"IFRAME"===(a=e.removedNodes[i]).nodeName&&a._bmr&&t.load_cb({target:a,type:"removed"})}})),r.interesting||this.timeoutExtended||(this.setTimeout(1e3,n),this.timeoutExtended=!0),!0))},p.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()},p.prototype.nodesWaitingFor=function(){if(0===this.pending_events.length)return 0;var e=this.pending_events.length-1;return this.pending_events[e]?this.pending_events[e].nodes_to_wait:0},p.prototype.hasActiveEvent=function(){if(0===this.pending_events.length)return!1;var e=this.pending_events[this.pending_events.length-1];return!!e&&"click"!==e.type},p.prototype.completeEvent=function(){var e,t,n=BOOMR.now();0!==this.pending_events.length&&(t=this.pending_events[e=this.pending_events.length-1])&&(t.resource.timing.loadEventEnd=n,t.forced=!0,this.sendEvent(e))},n=new p,i={spaBackEndResources:["xmlhttprequest","script"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,excludeFilter:function(e){var t,n;if(!e||!e.href)return!1;for(t=0;t<i.excludeFilters.length;t++)if("function"==typeof i.excludeFilters[t].cb){n=i.excludeFilters[t].ctx,i.excludeFilters[t].name&&c("Running filter: "+i.excludeFilters[t].name+" on URL: "+e.href);try{if(i.excludeFilters[t].cb.call(n,e))return c("Found matching filter at: "+i.excludeFilters[t].name+" for URL: "+e.href),!0}catch(r){BOOMR.addError(r,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1},clear:function(){i.addedVars&&i.addedVars.length>0&&(BOOMR.removeVar(i.addedVars),i.addedVars=[])},loadFinished:function(e,t){var r,o,a,s,u;t=t||BOOMR.now(),e.timing.loadEventEnd||(e.status&&BOOMR.fireEvent("xhr_error",e),e.timing.loadEventEnd=t,(u=BOOMR.getPerformance())&&u.timing&&(o=u.timing.navigationStart,(r=BOOMR.getResourceTiming(e.url,function(e,t){return e.responseEnd-t.responseEnd},function(t){return Math.ceil(o+t.startTime+2)>=e.timing.requestStart&&0!==t.responseEnd}))&&(a=Math.floor(o+r.startTime),(s=Math.floor(o+r.responseEnd))<=BOOMR.now()&&(e.timing.responseEnd=s,e.timing.loadEventEnd<s&&(e.timing.loadEventEnd=s),e.timing.requestStart=a,e.timing.fetchStart=a,0!==r.responseStart&&(e.timing.responseStart=Math.floor(o+r.responseStart)),e.restiming=r))),n.hasActiveEvent()&&f(e.url,i.alwaysSendXhr)&&n.sendResource(e),e.index>-1?n.load_finished(e.index,e.timing.responseEnd):n.hasActiveEvent()||i.singlePageApp&&!i.autoXhrEnabled||n.addEvent(e))}},BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(n){var o,a;if(t=e.document,e&&t){if(r=t.createElement("A"),BOOMR.utils.pluginConfig(i,n,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait"]),BOOMR.instrumentXHR=m,BOOMR.uninstrumentXHR=R,BOOMR.instrumentFetch=g,BOOMR.uninstrumentFetch=h,i.initialized||(this.addExcludeFilter(O,null,"shouldExcludeXhr"),i.initialized=!0),n&&n.AutoXHR&&n.AutoXHR.excludeFilters&&n.AutoXHR.excludeFilters.length>0)for(a=0;a<n.AutoXHR.excludeFilters.length;a++)i.excludeFilters.push(n.AutoXHR.excludeFilters[a]);if(i.autoXhrEnabled=n.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var s=BOOMR.plugins.SPA.supported_frameworks();for(o=0;o<s.length;o++){var u=s[o];if(n[u]&&n[u].enabled){i.singlePageApp=!0;break}}}if(i.alwaysSendXhr&&i.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function d(e){if(e.length)for(o=0;o<e.length;o++)B(e[o]);else B(e)}var c=BOOMR.xhr.stop(d);c&&c.length&&BOOMR.setImmediate(d,c)}i.singlePageApp?(i.alwaysSendXhr||(i.autoXhrEnabled=!1),i.autoXhrEnabled&&(BOOMR.instrumentXHR(),BOOMR.instrumentFetch())):i.autoXhrEnabled?(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()):!1===i.autoXhrEnabled&&(BOOMR.uninstrumentXHR(),BOOMR.uninstrumentFetch()),BOOMR.registerEvent("xhr_error"),BOOMR.subscribe("beacon",i.clear,null,i)}},getMutationHandler:function(){return n},getPathname:l,enableAutoXhr:function(){i.autoXhrEnabled||(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()),i.autoXhrEnabled=!0},addExcludeFilter:function(e,t,n){i.excludeFilters.push({cb:e,ctx:t,name:n})},setXhrRequestResponseCapturing:function(e){i.captureXhrRequestResponse=e}})}(),function(){var e,t=!1,n=!1,r=!1,i=!1,o=!1,a=!0,s=!1,u=!1,d=!1,c=[],l=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var O={spaHardMissedOnComplete:function(e){var t,n=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart();l=!1,BOOMR.addVar("spa.missed","1"),BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done"),e.timing.requestStart=n,0===e.resources.length&&(t=BOOMR.getPerformance())&&t.timing&&t.timing.navigationStart&&t.timing.loadEventEnd&&(e.timing.loadEventEnd=t.timing.loadEventEnd)},onBeacon:function(){BOOMR.removeVar("spa.missed","spa.forced","spa.waiting")}};BOOMR.plugins.SPA={is_complete:function(){return!l},init:function(e){e&&e.instrument_xhr&&(o=e.instrument_xhr,r&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr()),n||(n=!0,BOOMR.subscribe("beacon",O.onBeacon,null,O))},register:function(e){c.push(e)},supported_frameworks:function(){return c},onLoadSpaHardMissed:function(){r||(i=!0,o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),l=!0,d?l=!1:(BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]),BOOMR.plugins.SPA.route_change(O.spaHardMissedOnComplete)))},hook:function(e,n){return n=n||{},p("Hooked"),t?this:("function"==typeof n.routeFilter&&(s=n.routeFilter),"function"==typeof n.routeChangeWaitFilter&&(u=n.routeChangeWaitFilter),n.disableHardNav&&(d=n.disableHardNav),e&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed),t=!0,this)},route_change:function(t,n){p("Route Change");var c=!1;if(s)try{if(!s.apply(null,n))return void p("Route filter returned false; not tracking this route")}catch(h){BOOMR.addError(h,"SPA.route_change.routeFilter")}r=!0;var l=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),O=i?BOOMR.now():l,f=BOOMR.window.document.URL,g={timing:{requestStart:O},initiator:a&&!d?"spa_hard":"spa",url:f};if(a=!1,i&&"function"!=typeof t||(i=!0,g.onComplete=function(e){c||(c=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof t&&t(e)}),u)try{u.apply(null,arguments)&&(g.wait=!0,e=g)}catch(h){BOOMR.addError(h,"SPA.route_change.routeChangeWaitFilter")}g.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(g),o&&BOOMR.plugins.AutoXHR.enableAutoXhr()},last_location:function(e){lastLocationChange=e},current_spa_nav:function(){return i?"spa":"spa_hard"},wait_complete:function(){e&&(e.wait=!1,e.waitComplete&&e.waitComplete(),e=null)},markNavigationComplete:function(){p("Navigation being marked complete");var e=BOOMR.plugins.AutoXHR.getMutationHandler();e&&(BOOMR.addVar("spa.forced","1"),BOOMR.addVar("spa.waiting",e.nodesWaitingFor()),e.completeEvent())}}}function p(e){BOOMR.debug(e,"SPA")}}(),function(){var e={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,resetRouteChangeInProgress:function(){t("resetting routeChangeInProgress"),e.routeChangeInProgress&&clearTimeout(e.routeChangeInProgress),e.routeChangeInProgress=!1},setRouteChangeInProgress:function(){e.routeChangeInProgress&&clearTimeout(e.routeChangeInProgress),e.routeChangeInProgress=setTimeout(e.resetRouteChangeInProgress,50)},spaInit:function(e,t){t?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]):e?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),e]):BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL])},routeChange:function(n,r){if(e.enabled){if(e.disableHardNav&&!BOOMR.onloadFired())return;e.routeChangeInProgress?t("routeChangeInProgress, not triggering"):(t("routeChange triggered, sending route_change() event"),e.spaInit(n,r),BOOMR.plugins.SPA.route_change())}else t("Not enabled - we've missed a routeChange"),e.hadMissedRouteChange=!0,e.resetRouteChangeInProgress()}};function t(e){BOOMR.debug(e,"History")}BOOMR.plugins.History||void 0===BOOMR.plugins.SPA||void 0===BOOMR.plugins.AutoXHR||BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),BOOMR.plugins.History={is_complete:function(){return!0},hook:function(n,r,i){return(i=i||{}).disableHardNav=e.disableHardNav,e.hooked?this:(function(){var n,r,i,o,a,s=BOOMR.window.history;function u(){BOOMR.window.addEventListener("popstate",function(n){t("popstate"),e.routeChange()})}return"function"==typeof s.pushState&&(s.pushState=(n=s.pushState,function(r,i,o){return t("pushState, title: "+i+" url: "+o),e.routeChange(i,o),n.apply(this,arguments)})),"function"==typeof s.replaceState&&(s.replaceState=(r=s.replaceState,function(n,i,o){return t("replaceState, title: "+i+" url: "+o),e.routeChange(i,o),r.apply(this,arguments)})),"function"==typeof s.go&&(s.go=(i=s.go,function(n){return t("go"),e.routeChange(),i.apply(this,arguments)})),"function"==typeof s.back&&(s.back=(o=s.back,function(){return t("back"),e.routeChange(),o.apply(this,arguments)})),"function"==typeof s.forward&&(s.forward=(a=s.forward,function(){return t("forward"),e.routeChange(),a.apply(this,arguments)})),BOOMR.window.addEventListener("hashchange",function(n){var r=(n||{}).newURL;t("hashchange "+r),e.routeChange(null,r)}),BOOMR.hasBrowserOnloadFired()?u():BOOMR.window.addEventListener("load",function(){setTimeout(u,0)}),BOOMR.subscribe("beacon",e.resetRouteChangeInProgress),BOOMR.subscribe("spa_cancel",e.resetRouteChangeInProgress),BOOMR.subscribe("spa_init",e.setRouteChangeInProgress),!0}()&&(BOOMR.plugins.SPA.hook(r,i),e.hooked=!0),this)},init:function(t){return BOOMR.utils.pluginConfig(e,t,"History",["auto","enabled","disableHardNav"]),e.auto&&e.enabled&&this.hook(void 0,!0,{}),this},disable:function(){return e.enabled=!1,this},enable:function(){return e.enabled=!0,e.hooked&&e.hadMissedRouteChange&&(e.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),e.setRouteChangeInProgress(),t("Hooked and hadMissedRouteChange sending route_change!")),this}})}(),r=window,BOOMR.plugins.RT||(o={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,loadTime:0,oboError:0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,beacon_url:void 0,next_beacon_url:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(e,t){var n,r,i,a;if(!this.cookie)return!1;for(a in i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})i.hasOwnProperty(a)&&(isNaN(parseInt(a,10))||delete i[a]);if("object"==typeof e)for(a in e)e.hasOwnProperty(a)&&(void 0===e[a]?i.hasOwnProperty(a)&&delete i[a]:i[a]=e[a]);return i.z=1,i.dm=BOOMR.session.domain,i.si=BOOMR.session.ID,i.ss=BOOMR.session.start.toString(36),i.sl=BOOMR.session.length.toString(36),1800!==o.session_exp&&(i.se=o.session_exp.toString(36)),BOOMR.session.rate_limited&&(i.rl=1),i.tt=this.loadTime.toString(36),this.oboError>0?i.obo=this.oboError.toString(36):delete i.obo,r=BOOMR.now(),t&&(i[t]=(r-BOOMR.session.start).toString(36),o.lastActionTime=r),this.beacon_url&&(i.bcn=this.beacon_url),BOOMR.debug("Setting cookie (timer="+t+")\n"+BOOMR.utils.objectToString(i),"rt"),BOOMR.utils.setCookie(this.cookie,i,this.cookie_exp)?((n=BOOMR.now())-r>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+n,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},refreshSession:function(e){e||(e=BOOMR.plugins.RT.getCookie()),e&&(BOOMR.session.start=e.ss?e.ss:BOOMR.t_lstart||BOOMR.t_start,e.si&&e.si.match(/-/)&&(BOOMR.session.ID=e.si),e.sl&&(BOOMR.session.length=e.sl),e.tt&&(this.loadTime=e.tt),e.obo&&(this.oboError=e.obo),e.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=e.dm),e.se&&(o.session_exp=e.se),e.bcn&&(this.beacon_url=e.bcn),e.rl&&"1"===e.rl&&(BOOMR.session.rate_limited=!0))},maybeResetSession:function(e,t){BOOMR.debug("Current session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+t+", sessionLoad="+o.loadTime+", sessionError="+o.oboError+", lastAction="+o.lastActionTime,"rt");var n=0;BOOMR.session.start&&BOOMR.session.length&&(n=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var r=1e3*o.session_exp;(!BOOMR.session.start||t&&BOOMR.session.start>t||e-(o.lastActionTime||BOOMR.t_start)>r||n>r)&&(BOOMR.session.start=t||BOOMR.t_lstart||BOOMR.t_start,BOOMR.session.length=0,BOOMR.session.rate_limited=!1,o.loadTime=0,o.oboError=0,o.beacon_url=o.next_beacon_url,o.lastActionTime=e,o.updateCookie({rl:void 0,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:o.loadTime,obo:void 0,bcn:o.beacon_url})),BOOMR.debug("New session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt"),BOOMR.debug("Timers: t_start="+t+", sessionLoad="+o.loadTime+", sessionError="+o.oboError,"rt")},initFromCookie:function(){var e,t,n;n=BOOMR.plugins.RT.getCookie(),this.cookie||(BOOMR.session.enabled=!1),n&&(n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0)),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(n),"rt"),n.s&&(n.r||n.nu)&&(this.r=n.r,e=BOOMR.utils.MD5(i.URL),t=BOOMR.utils.MD5(i&&i.referrer||""),BOOMR.debug("referrer check: "+this.r+" =?= "+t,"rt"),n.cl&&BOOMR.debug(n.s+" <? "+(+n.cl+15),"rt"),n.nu&&BOOMR.debug(n.nu+" =?= "+e,"rt"),!this.strict_referrer||n.cl&&n.nu&&n.nu===e&&n.s<+n.cl+15||n.s===+n.ul&&this.r===t?(this.t_start=n.s,+n.hd>n.s&&(this.t_fb_approx=n.hd)):this.t_start=this.t_fb_approx=void 0),n.s&&(this.lastActionTime=n.s),this.refreshSession(n),this.updateCookie({s:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0,r:void 0,nu:void 0,sh:void 0}),this.maybeResetSession(BOOMR.now()))},incrementSessionDetails:function(){BOOMR.debug("Incrementing Session Details... ","RT"),BOOMR.session.length++,isNaN(o.timers.t_done.delta)?o.oboError++:o.loadTime+=o.timers.t_done.delta},getBoomerangTimings:function(){var e,t,n,r,i;function a(e,t){var n=Math.round(e||0),r=Math.round(t||0);return(n=0===n?0:n-r)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(n in t={"rt.bmr":BOOMR.url},BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url),t)if(t.hasOwnProperty(n)&&t[n]){if(!(e=window.performance.getEntriesByName(t[n]))||0===e.length||!e[0])continue;i=[r=a((e=e[0]).startTime,0),a(e.responseEnd,r),a(e.responseStart,r),a(e.requestStart,r),a(e.connectEnd,r),a(e.secureConnectionStart,r),a(e.connectStart,r),a(e.domainLookupEnd,r),a(e.domainLookupStart,r),a(e.redirectEnd,r),a(e.redirectStart,r)].join(",").replace(/,+$/,""),BOOMR.addVar(n,i),o.addedVars.push(n)}}catch(s){BOOMR.addError(s,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var e,t,n;this.navigationStart||((t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type),t&&t.timing?e=t.timing:r.chrome&&r.chrome.csi&&r.chrome.csi().startE?(e={navigationStart:r.chrome.csi().startE},n="csi"):r.gtbExternal&&r.gtbExternal.startE()&&(e={navigationStart:r.gtbExternal.startE()},n="gtb"),e?(BOOMR.addVar("rt.start",n||"navigation"),this.navigationStart=e.navigationStart||e.fetchStart||void 0,this.fetchStart=e.fetchStart||void 0,this.responseStart=e.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},validateLoadTimestamp:function(e,t,n){var r;return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(r=BOOMR.getPerformance())&&r.timing?r.timing.loadEventEnd?r.timing.loadEventEnd:e:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e:e},setPageLoadTimers:function(e,t,n){var r,i;if("xhr"!==e&&(o.initFromCookie(),o.initFromNavTiming(),o.checkPreRender()))return!1;if("xhr"===e)if(n.timers)for(var a in n.timers)n.timers.hasOwnProperty(a)&&BOOMR.plugins.RT.setTimer(a,n.timers[a]);else n&&n.timing&&(void 0===(i=n.timing.fetchStart)||n.timing.responseEnd>=i)&&(r=n.timing.responseEnd);else o.responseStart?o.responseStart>=o.navigationStart&&o.responseStart>=o.fetchStart&&(r=o.responseStart):o.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):o.t_fb_approx&&(r=o.t_fb_approx);return r&&(i?BOOMR.plugins.RT.setTimer("t_resp",i,r):BOOMR.plugins.RT.endTimer("t_resp",r),"load"===e&&o.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",o.timers.t_load.end-r):t<r?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t-r)),"load"===e&&o.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(e){e&&BOOMR.addVar("rt.tstart",e),"number"==typeof o.navigationStart&&o.navigationStart!==e&&BOOMR.addVar("rt.nstart",o.navigationStart),"number"==typeof o.t_start&&o.t_start!==e&&BOOMR.addVar("rt.cstart",o.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",o.timers.t_done.end)},determineTStart:function(e,t){var n;return"xhr"===e?(t&&t.name&&o.timers[t.name]?n=o.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(n=t.timing.requestStart),void 0===n&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),o.cached_xhr_start=n):(o.navigationStart?n=o.navigationStart:o.t_start&&2!==o.navigationType?(n=o.t_start,BOOMR.addVar("rt.start","cookie")):o.cached_t_start?n=o.cached_t_start:(BOOMR.addVar("rt.start","none"),n=void 0),o.cached_t_start=n),BOOMR.debug("Got start time: "+n,"rt"),n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(o.visiblefired=!0)},prerenderToVisible:function(){o.onloadfired&&o.autorun&&(BOOMR.debug("Transitioned from prerender to "+BOOMR.visibilityState(),"rt"),BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"))},page_unload:function(e){BOOMR.debug("Unload called when unloadfired = "+this.unloadfired,"rt"),this.unloadfired||BOOMR.plugins.RT.done(e,"unload"),this.updateCookie(!o.navigationStart&&o.strict_referrer?{r:BOOMR.utils.MD5(i.URL)}:null,"beforeunload"===e.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(e,t,n,r){var i;if(n){for(BOOMR.debug(e+" called with "+n.nodeName,"rt");n&&n.nodeName&&n.nodeName.toUpperCase()!==t;)n=n.parentNode;n&&n.nodeName&&n.nodeName.toUpperCase()===t&&(BOOMR.debug("passing through","rt"),this.refreshSession(),this.maybeResetSession(BOOMR.now()),i=r(n),this.updateCookie({nu:BOOMR.utils.MD5(i)},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i)),o.addedVars.push("nu"))}},onclick:function(e){o._iterable_click("Click","A",e,function(e){return e.href})},markComplete:function(){this.onloadfired&&(o.complete=!0)},onsubmit:function(e){o._iterable_click("Submit","FORM",e,function(e){var t="function"==typeof e.getAttribute&&e.getAttribute("action")||i.URL||"";return t.match(/\?/)?t:t+"?"})},onconfig:function(e){e.beacon_url&&(o.beacon_url=e.beacon_url),e.RT&&(e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>o.oboError&&(o.oboError=e.RT.oboError),e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>o.loadTime&&(o.loadTime=e.RT.loadTime,o.timers.t_done&&!isNaN(o.timers.t_done.delta)&&(o.loadTime+=o.timers.t_done.delta)))},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start"),o.addedVars&&o.addedVars.length>0&&(BOOMR.removeVar(o.addedVars),o.addedVars=[])},spaNavigation:function(){o.onloadfired=!0}},BOOMR.plugins.RT={init:function(e){if(BOOMR.debug("init RT","rt"),r!==BOOMR.window&&(r=BOOMR.window),e&&e.CrossDomain&&e.CrossDomain.sending&&(o.crossdomain_sending=!0),r&&r.document)return i=r.document,BOOMR.utils.pluginConfig(o,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),e&&void 0!==e.autorun&&(o.autorun=e.autorun),e&&e.beacon_url&&(o.beacon_url&&!e.force_beacon_url||(o.beacon_url=e.beacon_url),o.next_beacon_url=e.beacon_url),void 0!==i&&(o.r=BOOMR.utils.hashQueryString(i.referrer,!0)),o.initFromCookie(),o.initialized?this:(o.complete=!1,o.timers={},o.check_visibility(),BOOMR.subscribe("page_ready",o.page_ready,null,o),BOOMR.subscribe("visibility_changed",o.check_visibility,null,o),BOOMR.subscribe("prerender_to_visible",o.prerenderToVisible,null,o),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",o.domloaded,null,o),BOOMR.subscribe("page_unload",o.page_unload,null,o),BOOMR.subscribe("click",o.onclick,null,o),BOOMR.subscribe("form_submit",o.onsubmit,null,o),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("beacon",o.clear,null,o),BOOMR.subscribe("error",o.markComplete,null,o),BOOMR.subscribe("config",o.onconfig,null,o),BOOMR.subscribe("spa_navigation",o.spaNavigation,null,o),BOOMR.subscribe("interaction",o.markComplete,null,o),BOOMR.getBeaconURL=function(){return o.beacon_url},o.initialized=!0,this)},startTimer:function(e,t){return e&&("t_page"===e&&this.endTimer("t_resp",t),o.timers[e]={start:"number"==typeof t?t:BOOMR.now()}),this},endTimer:function(e,t){return e&&(o.timers[e]=o.timers[e]||{},void 0===o.timers[e].end&&(o.timers[e].end="number"==typeof t?t:BOOMR.now())),this},clearTimer:function(e){return e&&delete o.timers[e],this},setTimer:function(e,t,n){return e&&(o.timers[e]=void 0!==n?{start:t,end:n,delta:n-t}:{delta:t}),this},addTimersToBeacon:function(e,t){var n,r,i=[];for(n in o.timers)if(o.timers.hasOwnProperty(n)){if("number"!=typeof(r=o.timers[n]).delta&&("number"!=typeof r.start&&(r.start="xhr"===t?o.cached_xhr_start:o.cached_t_start),r.delta=r.end-r.start),isNaN(r.delta))continue;o.basic_timers.hasOwnProperty(n)?(BOOMR.addVar(n,r.delta),o.addedVars.push(n)):i.push(n+"|"+r.delta)}i.length&&(BOOMR.addVar("t_other",i.join(",")),o.addedVars.push("t_other")),"beacon"===t&&(o.timers={},o.complete=!1)},done:function(e,t){BOOMR.debug("Called done: "+t,"rt");var n,r,i=BOOMR.now(),a=!1;return o.complete=!1,r=o.validateLoadTimestamp(i,e,t),"load"!==t&&"visible"!==t&&"xhr"!==t||o.setPageLoadTimers(t,r,e)?(("load"===t||"visible"===t||"xhr"===t&&e&&"spa_hard"===e.initiator)&&o.getBoomerangTimings(),n=o.determineTStart(t,e),o.refreshSession(),o.maybeResetSession(r,n),this.endTimer("t_done",r),e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt"),o.setSupportingTimestamps(n),this.addTimersToBeacon(null,t),BOOMR.setReferrer(o.r),"xhr"===t&&e&&e&&e.data&&(e=e.data),"xhr"===t&&e&&(a=e.subresource,e.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,""))),o.addedVars.push("u")),e.status&&(e.status<-1||e.status>=400)&&BOOMR.addVar("http.errno",e.status),e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method),e.type&&"xhr"!==e.type&&BOOMR.addVar("http.type",e.type[0]),e.headers&&BOOMR.addVar("http.hdr",e.headers),e.synchronous&&BOOMR.addVar("xhr.sync",1),e.initiator&&BOOMR.addVar("http.initiator",e.initiator),e.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1),o.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu")),a&&"passive"!==a&&(BOOMR.addVar("rt.subres",1),o.addedVars.push("rt.subres")),("load"===t||"visible"===t||"xhr"===t&&!a||"unload"===t&&!o.onloadfired&&o.autorun&&!o.crossdomain_sending)&&(o.incrementSessionDetails(),o.updateCookie(null,"ld")),BOOMR.addVar({"rt.tt":o.loadTime,"rt.obo":o.oboError}),o.addedVars.push("rt.tt","rt.obo"),o.updateCookie(),"unload"===t&&(BOOMR.addVar("rt.quit",""),o.onloadfired||(BOOMR.addVar("rt.abld",""),o.addedVars.push("rt.abld")),o.visiblefired||BOOMR.addVar("rt.ntvu","")),o.complete=!0,BOOMR.sendBeacon(o.beacon_url),this):this},is_complete:function(e){return o.complete||e&&"error"===e["http.initiator"]},updateCookie:function(){o.updateCookie()},getCookie:function(){var e,t,n;return!!o.cookie&&((e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(o.cookie))||{})&&(1&e.z?(t=36,n=parseInt(e.ss||0,36)):(t=10,n=0),e.ss=parseInt(e.ss||0,t),e.tt=parseInt(e.tt||0,t),e.obo=parseInt(e.obo||0,t),e.sl=parseInt(e.sl||0,t),e.se&&(e.se=parseInt(e.se,t)||1800),e.ld&&(e.ld=n+parseInt(e.ld,t)),e.ul&&(e.ul=n+parseInt(e.ul,t)),e.cl&&(e.cl=n+parseInt(e.cl,t)),e.hd&&(e.hd=n+parseInt(e.hd,t))),e)},incrementSessionDetails:function(){o.incrementSessionDetails()},navigationStart:function(){return o.navigationStart||o.initFromNavTiming(),o.navigationStart}}),function(){if(!BOOMR.plugins.PaintTiming){var e={"first-paint":"fp","first-contentful-paint":"fcp"},t={initialized:!1,complete:!1,supported:null,timingCache:{},done:function(n,r){var i,o,a;if(this.complete)return this;if("load"!==r&&(!n||"spa_hard"!==n.initiator))return this.complete=!0,this;if((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType){if((o=i.getEntriesByType("paint"))&&o.length){for(BOOMR.info("This user agent supports PaintTiming","pt"),a=0;a<o.length;a++)t.timingCache[o[a].name]=o[a].startTime,e[o[a].name]&&BOOMR.addVar("pt."+e[o[a].name],Math.floor(o[a].startTime),!0);this.complete=!0,BOOMR.sendBeacon()}}else this.complete=!0}};BOOMR.plugins.PaintTiming={init:function(){return this.is_supported()||(t.complete=!0,t.initialized=!0),t.complete||"hidden"!==BOOMR.visibilityState()||(BOOMR.addVar("pt.hid",1,!0),t.complete=!0),t.initialized||(BOOMR.subscribe("page_ready",t.done,"load",t),BOOMR.subscribe("xhr_load",t.done,"xhr",t),BOOMR.subscribe("before_unload",t.done,null,t),t.initialized=!0),this},is_complete:function(){return!0},is_enabled:function(){return t.initialized&&this.is_supported()},is_supported:function(){if(null!==t.supported)return t.supported;var e=BOOMR.getPerformance();return t.supported=e&&void 0!==window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType,t.supported},getTimingFor:function(e){var n,r,i;if(t.timingCache[e])return t.timingCache[e];if(this.is_supported()&&(i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType&&(n=i.getEntriesByType("paint"))&&n.length)for(r=0;r<n.length;r++)if(n[r].name===e)return t.timingCache[e]=n[r].startTime,t.timingCache[e]}}}}(),function(){if(!BOOMR.plugins.NavigationTiming){var e={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon()},xhr_done:function(t){var n;if(t&&"spa_hard"===t.initiator)e.done(t);else if(t&&"spa"===t.initiator)e.sendBeacon();else{BOOMR;var r,i,o={};if(t){if(t.data&&(t=t.data),(n=BOOMR.getPerformance())&&t.restiming)for(i in o={nt_red_st:t.restiming.redirectStart,nt_red_end:t.restiming.redirectEnd,nt_fet_st:t.restiming.fetchStart,nt_dns_st:t.restiming.domainLookupStart,nt_dns_end:t.restiming.domainLookupEnd,nt_con_st:t.restiming.connectStart,nt_con_end:t.restiming.connectEnd,nt_req_st:t.restiming.requestStart,nt_res_st:t.restiming.responseStart,nt_res_end:t.restiming.responseEnd},t.restiming.secureConnectionStart&&(o.nt_ssl_st=t.restiming.secureConnectionStart),o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=n.timing.navigationStart,o[i]=Math.floor(o[i]));for(i in t.timing&&(r=t.timing,o.nt_req_st||(o.nt_req_st=r.requestStart),o.nt_res_st||(o.nt_res_st=r.responseStart),o.nt_res_end||(o.nt_res_end=r.responseEnd),o.nt_domint=r.domInteractive,o.nt_domcomp=r.domComplete,o.nt_load_st=r.loadEventEnd,o.nt_load_end=r.loadEventEnd),o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o);try{e.addedVars.push.apply(e.addedVars,Object.keys(o))}catch(a){}e.sendBeacon()}}},done:function(){var n,r,i,o,a,s=BOOMR.window,u={},d=0;if(this.complete)return this;if(e.addedVars=[],n=BOOMR.getPerformance()){for(k in"function"==typeof n.getEntriesByType&&((o=n.getEntriesByType("navigation"))&&o.length?(BOOMR.info("This user agent supports NavigationTiming2","nt"),o=o[0],d=n.timing?n.timing.navigationStart:0):o=void 0),!o&&n.timing&&(BOOMR.info("This user agent supports NavigationTiming","nt"),o=n.timing),o&&(!(u={nt_nav_st:n.timing?n.timing.navigationStart:0,nt_red_st:t(d,o.redirectStart),nt_red_end:t(d,o.redirectEnd),nt_fet_st:t(d,o.fetchStart),nt_dns_st:t(d,o.domainLookupStart),nt_dns_end:t(d,o.domainLookupEnd),nt_con_st:t(d,o.connectStart),nt_con_end:t(d,o.connectEnd),nt_req_st:t(d,o.requestStart),nt_res_st:t(d,o.responseStart),nt_res_end:t(d,o.responseEnd),nt_domloading:t(d,o.domLoading),nt_domint:t(d,o.domInteractive),nt_domcontloaded_st:t(d,o.domContentLoadedEventStart),nt_domcontloaded_end:t(d,o.domContentLoadedEventEnd),nt_domcomp:t(d,o.domComplete),nt_load_st:t(d,o.loadEventStart),nt_load_end:t(d,o.loadEventEnd),nt_unload_st:t(d,o.unloadEventStart),nt_unload_end:t(d,o.unloadEventEnd)}).nt_domloading&&n&&n.timing&&n.timing.domLoading&&(u.nt_domloading=n.timing.domLoading),o.secureConnectionStart&&(u.nt_ssl_st=t(d,o.secureConnectionStart)),n.timing&&n.timing.msFirstPaint&&(u.nt_first_paint=n.timing.msFirstPaint),o.workerStart&&(u.nt_worker_start=t(d,o.workerStart)),(o.decodedBodySize||o.transferSize)&&(u.nt_enc_size=o.encodedBodySize,u.nt_dec_size=o.decodedBodySize,u.nt_trn_size=o.transferSize),o.nextHopProtocol&&(u.nt_protocol=o.nextHopProtocol)),!u.nt_first_paint&&BOOMR.plugins.PaintTiming&&(a=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(u.nt_first_paint=t(d,a)),u.nt_protocol&&u.nt_first_paint||o&&""===o.nextHopProtocol||!s.chrome||"function"!=typeof s.chrome.loadTimes||(i=s.chrome.loadTimes())&&(u.nt_spdy=i.wasFetchedViaSpdy?1:0,u.nt_cinf=i.connectionInfo,"number"==typeof i.firstPaintTime&&0!==i.firstPaintTime&&(u.nt_first_paint=Math.round(1e3*i.firstPaintTime))),n.navigation&&(u.nt_red_cnt=(r=n.navigation).redirectCount,u.nt_nav_type=r.type),u)u.hasOwnProperty(k)&&void 0===u[k]&&delete u[k];BOOMR.addVar(u),o&&(o.requestStart&&o.navigationStart&&o.requestStart<o.navigationStart||o.responseStart&&o.navigationStart&&o.responseStart<o.navigationStart||o.responseStart&&o.fetchStart&&o.responseStart<o.fetchStart||o.navigationStart&&o.fetchStart<o.navigationStart||o.responseEnd&&o.responseEnd>BOOMR.now()+864e5)&&(BOOMR.addVar("nt_bad",1),e.addedVars.push("nt_bad"));try{e.addedVars.push.apply(e.addedVars,Object.keys(u))}catch(c){}u.nt_load_end>0&&(this.fullySent=!0)}e.sendBeacon()},clear:function(){e.addedVars&&e.addedVars.length>0&&(BOOMR.removeVar(e.addedVars),e.addedVars=[]),this.complete=this.fullySent},prerenderToVisible:function(){this.complete=!1,this.done()}};BOOMR.plugins.NavigationTiming={init:function(){return e.initialized||(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_done,null,e),BOOMR.subscribe("before_unload",e.done,null,e),BOOMR.subscribe("beacon",e.clear,null,e),e.initialized=!0),this},is_complete:function(){return!0}}}function t(e,t){if("number"==typeof t&&0!==t)return Math.floor((e||0)+t)}}(),function(){var e;if(!BOOMR.plugins.ResourceTiming){var t={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"},n={prefetch:1,preload:2,prerender:3,stylesheet:4},r=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"],i="\n",o="*",a="0",s="1",u="2",d=1,c=2,l=4,O="3",p="4",f="5";e={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){this.complete||(this.complete=!0,BOOMR.sendBeacon())},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(E(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon())},onBeacon:function(t){var n=BOOMR.getPerformance();if(t.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming"),t.hasOwnProperty("servertiming")&&BOOMR.removeVar("servertiming"),e.clearOnBeacon&&n){var r=n.clearResourceTimings||n.webkitClearResourceTimings;r&&"function"==typeof r&&r.call(n)}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done()}},BOOMR.plugins.ResourceTiming={init:function(t){if(BOOMR.utils.pluginConfig(e,t,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings"]),e.initialized)return this;if(this.is_supported()){if(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_load,null,e),BOOMR.subscribe("beacon",e.onBeacon,null,e),BOOMR.subscribe("before_unload",e.done,null,e),e.monitorClearResourceTimings){var n=this;BOOMR.window.performance.clearResourceTimings=(r=BOOMR.window.performance.clearResourceTimings,function(){n.addResources(BOOMR.window.performance.getEntriesByType("resource")),r.apply(BOOMR.window.performance,arguments)})}}else e.complete=!0;var r;return e.initialized=!0,this},is_complete:function(){return!0},is_enabled:function(){return e.initialized&&this.is_supported()},is_supported:function(){if(null!==e.supported)return e.supported;var t=BOOMR.getPerformance();return e.supported=t&&"function"==typeof t.getEntriesByType&&void 0!==window.PerformanceResourceTiming,e.supported},addResources:function(t,n){if(this.is_supported()&&BOOMR.utils.isArray(t)){if(e.collectedEntries=e.collectedEntries||[],"number"==typeof n){var i=n-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);t=BOOMR.utils.arrayFilter(t,function(e){for(var t=0;t<r.length;t++){var n=r[t];e.hasOwnProperty(n)&&(e[n]+=i)}return!0})}Array.prototype.push.apply(e.collectedEntries,t)}},getCompressedResourceTiming:y,getFilteredResourceTiming:M,calculateResourceTimingUnion:function(e){var t;if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});var n=S(e),r=[],i=0;for(t=0;t<n.length;t++){var o=n[t];o.fetchStart<i&&(o.fetchStart=i),o.fetchStart<o.responseEnd&&(r.push(o),i=o.responseEnd)}var a=S(r),s=0;for(t=0;t<a.length;t++)s+=a[t].responseEnd-a[t].fetchStart;return s},addResourceTimingToBeacon:E,addToBeacon:P}}function g(t){var n,r,o,a,s,u,d,c,l={};for(n in t){for(r=n,o=0;o<e.xssBreakWords.length;o++)r=r.replace(e.xssBreakWords[o],"$1"+i+"$2");if(t.hasOwnProperty(n))for(a=t[n],s=r.split(""),d=l,o=0;o<s.length;o++)void 0===(c=d[u=s[o]])?d=d[u]=o===s.length-1?a:{}:"string"==typeof c?d=d[u]={"|":c}:o===s.length-1?d[u]["|"]=a:d=d[u]}return l}function h(e,t){var n,r,o,a=0,s=[];for(n in e)e.hasOwnProperty(n)&&s.push(n);for(var u=0;u<s.length;u++)"object"==typeof e[n=s[u]]&&(r=h(e[n],!1))&&(delete e[n],n===i?(n=r.name,a++):n+=r.name,e[n]=r.value),a++;return 1===a?t?((o={})[n]=e[n],o):{name:n,value:e[n]}:!!t&&e}function m(e,t){"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0);var n=Math.round(e||0),r=Math.round(t||0);return 0===n?0:n-r}function R(e){try{if("performance"in e&&e.performance)return!0}catch(t){}return!1}function B(e){var t=0;return R(e)&&e.performance.timing&&e.performance.timing.navigationStart&&(t=e.performance.timing.navigationStart),t}function _(e,t,n){Array.prototype.forEach.call(e.ownerDocument.getElementsByTagName(n),function(n){e.href=n.currentSrc||n.src||"function"==typeof n.getAttribute&&n.getAttribute("xlink:href")||n.href,e.href.match(/^https?:\/\//)&&(t[e.href]=n)})}function v(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function M(t,i,o){var a,s,u=function t(i,o,a,u,O){var p,f,g,h,m,v,M,b,y,S,E,w,T=[],x={},P={};if(void 0===o&&(o=!0),void 0===a&&(a=0),void 0===u&&(u=0),u>10)return T;try{if(!R(i))return T;if(g=B(i),S=function(e,t){var n,r,i={},o=e.document,a=o.createElement("A");return n=(t=t||[0,0,0,0])[3]+(void 0!==e.pageXOffset)?e.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,r=t[2]+(void 0!==e.pageYOffset)?e.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,["img","iframe","image"].forEach(function(e){var t,s,u,d,c=o.getElementsByTagName(e);for(s=0;s<c.length;s++)if((t=c[s])&&(d=t.currentSrc||t.src||"function"==typeof t.getAttribute&&t.getAttribute("src")||t.getAttribute("xlink:href"),a.href=d,(d=a.href)&&!i[d]&&((u=t.getBoundingClientRect()).height||t.offsetHeight)&&(u.width||t.offsetWidth))){if(i[d]=[u.height||t.offsetHeight,u.width||t.offsetWidth,Math.round(u.top+r),Math.round(u.left+n)],!t.naturalHeight&&!t.naturalWidth)continue;var l,O,p;t.currentSrc&&(t.srcset||t.parentNode&&t.parentNode.nodeName&&"PICTURE"===t.parentNode.nodeName.toUpperCase())?(l=t.isConnected?t.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=d:l=t,p=l.naturalWidth||t.naturalWidth,!(O=l.naturalHeight||t.naturalHeight)&&!p||i[d][0]===O&&i[d][1]===p||i[d].push(O,p)}}),i}(i,O),_(E=i.document.createElement("a"),x,"script"),_(E,P,"link"),(v=i.document.getElementsByTagName("iframe"))&&v.length)for(p=0;p<v.length;p++)h=B(v[p].contentWindow),m=0,h>g&&(m=a+(h-g)),E.href=v[p].src,T=T.concat(t(v[p].contentWindow,!1,m,u+1,S[E.href]));if("function"!=typeof i.performance.getEntriesByType)return T;function C(t){return e.serverTiming&&t.serverTiming||[]}o&&((f=i.performance.getEntriesByType("navigation"))&&1===f.length?T.push({name:i.location.href,startTime:0,initiatorType:"html",redirectStart:(M=f[0]).redirectStart,redirectEnd:M.redirectEnd,fetchStart:M.fetchStart,domainLookupStart:M.domainLookupStart,domainLookupEnd:M.domainLookupEnd,connectStart:M.connectStart,secureConnectionStart:M.secureConnectionStart,connectEnd:M.connectEnd,requestStart:M.requestStart,responseStart:M.responseStart,responseEnd:M.responseEnd,workerStart:M.workerStart,encodedBodySize:M.encodedBodySize,decodedBodySize:M.decodedBodySize,transferSize:M.transferSize,serverTiming:C(M)}):i.performance.timing&&0!==(b=i.performance.timing).navigationStart&&b.responseEnd<=b.navigationStart+36e5&&T.push({name:i.location.href,startTime:0,initiatorType:"html",redirectStart:b.redirectStart?b.redirectStart-b.navigationStart:0,redirectEnd:b.redirectEnd?b.redirectEnd-b.navigationStart:0,fetchStart:b.fetchStart?b.fetchStart-b.navigationStart:0,domainLookupStart:b.domainLookupStart?b.domainLookupStart-b.navigationStart:0,domainLookupEnd:b.domainLookupEnd?b.domainLookupEnd-b.navigationStart:0,connectStart:b.connectStart?b.connectStart-b.navigationStart:0,secureConnectionStart:b.secureConnectionStart?b.secureConnectionStart-b.navigationStart:0,connectEnd:b.connectEnd?b.connectEnd-b.navigationStart:0,requestStart:b.requestStart?b.requestStart-b.navigationStart:0,responseStart:b.responseStart?b.responseStart-b.navigationStart:0,responseEnd:b.responseEnd?b.responseEnd-b.navigationStart:0}));var k=i.performance.getEntriesByType("resource"),A=[];for(i===BOOMR.window&&e.collectedEntries&&(Array.prototype.push.apply(k,e.collectedEntries),e.collectedEntries=[]),p=0;k&&p<k.length;p++){y={name:(b=k[p]).name,initiatorType:b.initiatorType,encodedBodySize:b.encodedBodySize,decodedBodySize:b.decodedBodySize,transferSize:b.transferSize,serverTiming:C(b),visibleDimensions:S[b.name],latestTime:(w=b,w.responseEnd?w.responseEnd:w.responseStart&&w.startTime?w.responseStart+.2*(w.responseStart-w.startTime):1/0)};for(var L=0;L<r.length;L++){var N=r[L];y[N]="startTime"===N||b[N]?b[N]+a:0}if(b.hasOwnProperty("_data")&&(y._data=b._data),("script"===b.initiatorType||"link"===b.initiatorType)&&x[b.name]){var V=x[b.name];for(y.scriptAttrs=(V.async?d:0)|(V.defer?c:0);1===V.nodeType&&"BODY"!==V.nodeName;)V=V.parentNode;y.scriptAttrs|="BODY"===V.nodeName?l:0}"link"===b.initiatorType&&P[b.name]&&BOOMR.utils.arrayFind(P[b.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(e){if(e=e.toLowerCase(),n[e])return y.linkAttrs=n[e],!0}),A.push(y)}T=T.concat(A)}catch(s){return T}return T}(BOOMR.window,!0,0,0),O=B(BOOMR.window),p={};if(!u||!u.length)return{entries:[]};u.sort(function(e,t){return e.startTime-t.startTime});var f=[];for(a=0;a<u.length;a++)if(0!==(s=u[a]).name.indexOf("about:")&&0!==s.name.indexOf("javascript:")&&0!==s.name.indexOf("res:")&&!(s.name.indexOf(BOOMR.url)>-1||s.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&s.name.indexOf(BOOMR.getBeaconURL())>-1||t&&O+s.startTime<t)){if(i&&O+s.startTime>i)break;(void 0===o||"*"===o||!o.length||s.initiatorType&&BOOMR.utils.inArray(s.initiatorType,o))&&(w(p,s.serverTiming),f.push(s))}var g=function(e){return Object.keys(e).sort(function(t,n){return e[n].count-e[t].count}).reduce(function(t,n){var r=Object.keys(e[n].counts).sort(function(t,r){return e[n].counts[r]-e[n].counts[t]});return t.push(1===r.length&&""===r[0]?n:[n].concat(r)),t},[])}(p);return{entries:f,serverTiming:{lookup:g,indexed:T(g)}}}function b(t,n){var r,i,o;if(t&&n)for(r=0;r<n.length;r++)if("string"==typeof(o=n[r])){if(-1!==(i=t.indexOf(o))){t=t.substr(0,i+o.length)+"...";break}}else o instanceof RegExp&&o.test(t)&&(t=t.replace(o,"$1")+"...");return BOOMR.utils.cleanupURL(t,e.urlLimit)}function y(n,r){var i,d,c,l,R,B,_,y,S,E={},w={},T=M(n,r,e.trackedResourceTypes),P=T.entries,C=T.serverTiming;if(!P||!P.length)return{restiming:{},servertiming:[]};for(i=0;i<P.length;i++){void 0===(c=t[(d=P[i]).initiatorType])&&(c=0),R=c+[m(d.startTime,0),m(d.responseEnd,d.startTime),m(d.responseStart,d.startTime),m(d.requestStart,d.startTime),m(d.connectEnd,d.startTime),m(d.secureConnectionStart,d.startTime),m(d.connectStart,d.startTime),m(d.domainLookupEnd,d.startTime),m(d.domainLookupStart,d.startTime),m(d.redirectEnd,d.startTime),m(d.redirectStart,d.startTime)].map(v).join(",").replace(/,+$/,"");var k=(_=void 0,y=void 0,S=void 0,(B=d).encodedBodySize||B.decodedBodySize||B.transferSize?[y=B.encodedBodySize,(_=B.transferSize)?_-y:"_",(S=B.decodedBodySize)?S-y:0].map(v).join(",").replace(/,+$/,""):"");if(""!==k&&(R+=o+s+k),d.hasOwnProperty("scriptAttrs")&&(R+=o+u+d.scriptAttrs),d.serverTiming&&d.serverTiming.length&&(R+=o+O+d.serverTiming.reduce(function(e,t,n){var r=String(void 0!==t.duration?t.duration:t.value);"0."===r.substring(0,2)&&(r=r.substring(1));var i=t.name||t.metric;return e+(n>0?",":"")+r+x(C.indexed[i].index,C.indexed[i].descriptions[t.description])},"")),d.hasOwnProperty("linkAttrs")&&(R+=o+p+d.linkAttrs),l=b(d.name,e.trimUrls),d.hasOwnProperty("_data")){var A="";for(var L in d._data)d._data.hasOwnProperty(L)&&(A+=o+f+L+":"+d._data[L]);void 0===E[l]?E[l]=R+A:E[l]+=A}else void 0!==E[l]?E[l]+="|"+R:E[l]=d.visibleDimensions?o+a+d.visibleDimensions.map(Math.round).map(v).join(",").replace(/,+$/,"")+"|"+R:R;d.visibleDimensions&&(w[d.latestTime]||(w[d.latestTime]=[]),w[d.latestTime].push(d.visibleDimensions))}return{restiming:h(g(E),!0),servertiming:C.lookup}}function S(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++){var r=e[n];n!==e.length-1&&r.fetchStart===e[n+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd})}return t}function E(e,t){var n;"undefined"!=typeof JSON&&(BOOMR.removeVar("restiming"),BOOMR.removeVar("servertiming"),(n=y(e,t))&&(BOOMR.info("Client supports Resource Timing API","restiming"),P(n)))}function w(e,t){(t||[]).forEach(function(t){var n=t.name||t.metric;void 0===e[n]&&(e[n]={count:0,counts:{}});var r=e[n];r.counts[t.description]=r.counts[t.description]||0,r.counts[t.description]++,r.count++})}function T(e){return e.reduce(function(e,t,n){var r,i;return Array.isArray(t)?(r=t[0],i=t.slice(1).reduce(function(e,t,n){return e[t]=n,e},{})):(r=t,i={"":0}),e[r]={index:n,descriptions:i},e},{})}function x(e,t){var n="";return e&&(n+=e),t&&(n+="."+t),n.length&&(n=":"+n),n}function P(e){BOOMR.addVar("restiming",JSON.stringify(e.restiming)),e.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(e.servertiming))}}(),function(){"use strict";function e(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function t(t,n,r,i,o,a){return e((s=e(e(n,t),e(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(t,a){t[a>>5]|=128<<a%32,t[14+(a+64>>>9<<4)]=a;var s,u,d,c,l,O=1732584193,p=-271733879,f=-1732584194,g=271733878;for(s=0;s<t.length;s+=16)u=O,d=p,c=f,l=g,O=n(O,p,f,g,t[s],7,-680876936),g=n(g,O,p,f,t[s+1],12,-389564586),f=n(f,g,O,p,t[s+2],17,606105819),p=n(p,f,g,O,t[s+3],22,-1044525330),O=n(O,p,f,g,t[s+4],7,-176418897),g=n(g,O,p,f,t[s+5],12,1200080426),f=n(f,g,O,p,t[s+6],17,-1473231341),p=n(p,f,g,O,t[s+7],22,-45705983),O=n(O,p,f,g,t[s+8],7,1770035416),g=n(g,O,p,f,t[s+9],12,-1958414417),f=n(f,g,O,p,t[s+10],17,-42063),p=n(p,f,g,O,t[s+11],22,-1990404162),O=n(O,p,f,g,t[s+12],7,1804603682),g=n(g,O,p,f,t[s+13],12,-40341101),f=n(f,g,O,p,t[s+14],17,-1502002290),O=r(O,p=n(p,f,g,O,t[s+15],22,1236535329),f,g,t[s+1],5,-165796510),g=r(g,O,p,f,t[s+6],9,-1069501632),f=r(f,g,O,p,t[s+11],14,643717713),p=r(p,f,g,O,t[s],20,-373897302),O=r(O,p,f,g,t[s+5],5,-701558691),g=r(g,O,p,f,t[s+10],9,38016083),f=r(f,g,O,p,t[s+15],14,-660478335),p=r(p,f,g,O,t[s+4],20,-405537848),O=r(O,p,f,g,t[s+9],5,568446438),g=r(g,O,p,f,t[s+14],9,-1019803690),f=r(f,g,O,p,t[s+3],14,-187363961),p=r(p,f,g,O,t[s+8],20,1163531501),O=r(O,p,f,g,t[s+13],5,-1444681467),g=r(g,O,p,f,t[s+2],9,-51403784),f=r(f,g,O,p,t[s+7],14,1735328473),O=i(O,p=r(p,f,g,O,t[s+12],20,-1926607734),f,g,t[s+5],4,-378558),g=i(g,O,p,f,t[s+8],11,-2022574463),f=i(f,g,O,p,t[s+11],16,1839030562),p=i(p,f,g,O,t[s+14],23,-35309556),O=i(O,p,f,g,t[s+1],4,-1530992060),g=i(g,O,p,f,t[s+4],11,1272893353),f=i(f,g,O,p,t[s+7],16,-155497632),p=i(p,f,g,O,t[s+10],23,-1094730640),O=i(O,p,f,g,t[s+13],4,681279174),g=i(g,O,p,f,t[s],11,-358537222),f=i(f,g,O,p,t[s+3],16,-722521979),p=i(p,f,g,O,t[s+6],23,76029189),O=i(O,p,f,g,t[s+9],4,-640364487),g=i(g,O,p,f,t[s+12],11,-421815835),f=i(f,g,O,p,t[s+15],16,530742520),O=o(O,p=i(p,f,g,O,t[s+2],23,-995338651),f,g,t[s],6,-198630844),g=o(g,O,p,f,t[s+7],10,1126891415),f=o(f,g,O,p,t[s+14],15,-1416354905),p=o(p,f,g,O,t[s+5],21,-57434055),O=o(O,p,f,g,t[s+12],6,1700485571),g=o(g,O,p,f,t[s+3],10,-1894986606),f=o(f,g,O,p,t[s+10],15,-1051523),p=o(p,f,g,O,t[s+1],21,-2054922799),O=o(O,p,f,g,t[s+8],6,1873313359),g=o(g,O,p,f,t[s+15],10,-30611744),f=o(f,g,O,p,t[s+6],15,-1560198380),p=o(p,f,g,O,t[s+13],21,1309151649),O=o(O,p,f,g,t[s+4],6,-145523070),g=o(g,O,p,f,t[s+11],10,-1120210379),f=o(f,g,O,p,t[s+2],15,718787259),p=o(p,f,g,O,t[s+9],21,-343485551),O=e(O,u),p=e(p,d),f=e(f,c),g=e(g,l);return[O,p,f,g]}function s(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function c(e){return unescape(encodeURIComponent(e))}function l(e){return function(e){return s(a(u(e),8*e.length))}(c(e))}function O(e,t){return function(e,t){var n,r,i=u(e),o=[],d=[];for(o[15]=d[15]=void 0,i.length>16&&(i=a(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],d[n]=1549556828^i[n];return r=a(o.concat(u(t)),512+8*t.length),s(a(d.concat(r),640))}(c(e),c(t))}BOOMR.utils=BOOMR.utils||{},BOOMR.utils&&BOOMR.utils.md5||(BOOMR.utils.MD5=function(e,t,n){return t?n?O(t,e):d(O(t,e)):n?l(e):d(l(e))})}(),BOOMR.t_end=(new Date).getTime()}}]);
//# sourceMappingURL=112.e083fde5e6db8994e631.js.map